
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ¬Ø± Ù…Ù†Ø°Ø±</title>

<style>
:root{
  --main-orange:#ff9800;
  --main-orange-dark:#f57c00;
  --card-bg:#1e1e1e;
}

body{
  margin:0;
  font-family:Tahoma, Arial;
  direction:rtl;
  background:linear-gradient(160deg,#0f0f0f,#1a1a1a);
  color:white;
}

.header{
  background:linear-gradient(90deg,var(--main-orange),var(--main-orange-dark));
  padding:20px;
  text-align:center;
  font-size:24px;
  font-weight:bold;
  color:black;
  box-shadow:0 6px 20px rgba(0,0,0,0.6);
}

.section{
  display:none;
  padding:25px;
  text-align:center;
}

#welcomeTitle{
  font-size:32px;
  font-weight:bold;
  margin-top:60px;
  margin-bottom:15px;
}

#welcomeSub{
  font-size:18px;
  color:#aaa;
  margin-bottom:40px;
}

.btnRow{
  display:flex;
  gap:15px;
  justify-content:center;
}

.bigBtn{
  flex:1;
  padding:20px;
  font-size:20px;
  border:none;
  border-radius:14px;
  background:linear-gradient(145deg,var(--main-orange),var(--main-orange-dark));
  color:black;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 6px 15px rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
}

.smallBtn{
  background:var(--main-orange);
  border:none;
  padding:8px 12px;
  margin-top:8px;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  color:black;
}

.ownerIcon{
  width:30px;
  height:30px;
}

/* ===== Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª ===== */

#categories{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  margin-bottom:20px;
}

.categoryBtn{
  background:linear-gradient(145deg,var(--main-orange),var(--main-orange-dark));
  color:black;
  border:none;
  border-radius:20px;
  font-weight:bold;
  font-size:16px;
  cursor:pointer;
  height:140px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:12px;
  line-height:1.4;
  word-break:break-word;
  box-shadow:0 6px 18px rgba(0,0,0,0.6);
  transition:0.2s;
}

.categoryBtn:hover{
  transform:scale(1.05);
}

.product-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
}

.product-card{
  background:var(--card-bg);
  padding:12px;
  border-radius:12px;
  box-shadow:0 4px 12px rgba(0,0,0,0.6);
}

.product-card img{
  width:100%;
  height:110px;
  object-fit:cover;
  border-radius:8px;
}

input,select{
  width:95%;
  padding:10px;
  margin:6px 0;
  border-radius:8px;
  border:none;
  background:#2a2a2a;
  color:white;
}
</style>
</head>

<body>

<div class="header" id="topHeader">
ğŸ›’ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ù…Ù†Ø°Ø±
</div>

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="home" class="section">
<div id="welcomeTitle">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ù…Ù†Ø°Ø±</div>
<div id="welcomeSub">Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</div>

<div class="btnRow">

<button class="bigBtn" onclick="showSection('ownerLogin')">

<!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù…Ø¯ÙŠØ± / ØµØ§Ø­Ø¨ Ø´Ø±ÙƒØ© Ø­Ø¯ÙŠØ«Ø© (Ø±ØµØ§ØµÙŠ ÙˆØ£Ø³ÙˆØ¯ ÙÙ‚Ø·) -->
<svg class="ownerIcon" viewBox="0 0 24 24">
  <circle cx="12" cy="6" r="4" fill="#555"></circle>
  <path d="M4 21c0-5 4-8 8-8s8 3 8 8" fill="#333"></path>
  <rect x="10" y="14" width="4" height="4" fill="#111"></rect>
</svg>

ØµØ§Ø­Ø¨ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬
</button>

<button class="bigBtn" onclick="showSection('customer')">
ğŸ›’ Ø§Ù„Ù…Ø´ØªØ±ÙŠ
</button>

</div>
</div>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ -->
<div id="ownerLogin" class="section">
<h3>Ø¯Ø®ÙˆÙ„ ØµØ§Ø­Ø¨ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</h3>
<input type="password" id="ownerPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<button class="bigBtn" onclick="checkPassword()">Ø¯Ø®ÙˆÙ„</button>
<button class="smallBtn" onclick="showSection('home')">Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="owner" class="section">
<h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
<input type="text" id="storeName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±">
<input type="text" id="welcomeText" placeholder="Ù†Øµ Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ">
<input type="text" id="buyerPhone" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ 011xxxxxxxx">

<h4>Ø¥Ø¶Ø§ÙØ© ØªØµÙ†ÙŠÙ</h4>
<input type="text" id="categoryName">
<button class="smallBtn" onclick="addCategory()">Ø¥Ø¶Ø§ÙØ©</button>

<h4>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h4>
<select id="categorySelect"></select>
<input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input type="number" id="productPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input type="file" id="productImgFile">
<img id="preview" style="width:80px;margin-top:5px;">
<button class="smallBtn" onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>

<br><br>
<button class="bigBtn" onclick="saveData()">Ø­ÙØ¸</button>
<button class="smallBtn" onclick="showSection('home')">Ø±Ø¬ÙˆØ¹</button>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠ -->
<div id="customer" class="section">
<h2 id="custStoreName"></h2>
<div id="categories"></div>
<br>
<div class="product-grid" id="products"></div>
<h3>Ø§Ù„Ø³Ù„Ø©</h3>
<div id="cart"></div>
<button class="bigBtn" onclick="checkout()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<script>
const OWNER_PASSWORD="011507865";

let store=JSON.parse(localStorage.getItem("store"))||{
  name:"Ù…ØªØ¬Ø± Ù…Ù†Ø°Ø±",
  welcome:"Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ù…Ù†Ø°Ø±",
  buyerPhone:"",
  categories:[]
};

let cart=[];

function showSection(id){
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";
  if(id==="owner")loadOwner();
  if(id==="customer")loadCustomer();
}

function checkPassword(){
  if(document.getElementById("ownerPassword").value===OWNER_PASSWORD){
    showSection("owner");
  }else alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø·Ø£");
}

function saveData(){
  store.name=document.getElementById("storeName").value;
  store.welcome=document.getElementById("welcomeText").value;
  store.buyerPhone=document.getElementById("buyerPhone").value;
  localStorage.setItem("store",JSON.stringify(store));
  alert("ØªÙ… Ø§Ù„Ø­ÙØ¸");
  document.getElementById("welcomeTitle").innerText=store.welcome;
  document.getElementById("topHeader").innerText="ğŸ›’ "+store.welcome;
}

function loadOwner(){
  document.getElementById("storeName").value=store.name;
  document.getElementById("welcomeText").value=store.welcome;
  document.getElementById("buyerPhone").value=store.buyerPhone;
  updateCategories();
}

function addCategory(){
  let name=document.getElementById("categoryName").value;
  if(!name)return;
  store.categories.push({name:name,products:[]});
  localStorage.setItem("store",JSON.stringify(store));
  updateCategories();
}

function updateCategories(){
  let sel=document.getElementById("categorySelect");
  sel.innerHTML="";
  store.categories.forEach((c,i)=>{
    sel.innerHTML+=`<option value="${i}">${c.name}</option>`;
  });
}

document.getElementById("productImgFile").addEventListener("change",e=>{
  const reader=new FileReader();
  reader.onload=ev=>{
    document.getElementById("preview").src=ev.target.result;
    document.getElementById("preview").dataset.src=ev.target.result;
  }
  reader.readAsDataURL(e.target.files[0]);
});

function addProduct(){
  let idx=document.getElementById("categorySelect").value;
  let name=document.getElementById("productName").value;
  let price=document.getElementById("productPrice").value;
  let img=document.getElementById("preview").dataset.src;
  if(!name||!price||!img)return alert("Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
  store.categories[idx].products.push({name,price,img});
  localStorage.setItem("store",JSON.stringify(store));
  alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©");
}

function loadCustomer(){
  document.getElementById("custStoreName").innerText=store.name;
  let catDiv=document.getElementById("categories");
  catDiv.innerHTML="";
  store.categories.forEach((c,i)=>{
    let btn=document.createElement("button");
    btn.className="categoryBtn";
    btn.innerText=c.name;
    btn.onclick=()=>showProducts(i);
    catDiv.appendChild(btn);
  });
}

function showProducts(i){
  let div=document.getElementById("products");
  div.innerHTML="";
  store.categories[i].products.forEach((p)=>{
    div.innerHTML+=`
    <div class="product-card">
      <img src="${p.img}">
      <b>${p.name}</b><br>
      ${p.price} Ø±ÙŠØ§Ù„<br>
      <button class="smallBtn" onclick="addToCart('${p.name}',${p.price})">Ø£Ø¶Ù</button>
    </div>
    `;
  });
}

function addToCart(name,price){
  cart.push({name,price});
  updateCart();
}

function updateCart(){
  let div=document.getElementById("cart");
  div.innerHTML="";
  let total=0;
  cart.forEach(i=>{
    total+=parseFloat(i.price);
    div.innerHTML+=i.name+" - "+i.price+" Ø±ÙŠØ§Ù„<br>";
  });
  div.innerHTML+="<b>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: "+total+" Ø±ÙŠØ§Ù„</b>";
}

function checkout(){
  if(cart.length===0)return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
  let total=cart.reduce((s,i)=>s+parseFloat(i.price),0);
  let text="Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† "+store.name+"\n\n";
  cart.forEach(i=>text+=i.name+" - "+i.price+" Ø±ÙŠØ§Ù„\n");
  text+="\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: "+total+" Ø±ÙŠØ§Ù„";
  let phone="20"+store.buyerPhone.substring(1);
  window.location.href=`https://api.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(text)}`;
  cart=[];
  updateCart();
}

window.onload=()=>{
  showSection("home");
  document.getElementById("welcomeTitle").innerText=store.welcome;
  document.getElementById("topHeader").innerText="ğŸ›’ "+store.welcome;
}
</script>

</body>
</html>
